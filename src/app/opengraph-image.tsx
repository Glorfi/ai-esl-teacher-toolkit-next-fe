import { ImageResponse } from 'next/og';
import { Lato } from 'next/font/google';

// Route segment config
export const runtime = 'edge';

// Image metadata
export const alt = 'AI ESL Teacher Toolkit';
export const size = {
  width: 1200,
  height: 630,
};

const lato = Lato({
  weight: '900', // Adjust weight as needed
  style: 'normal', // Adjust style if needed
  subsets: ['latin'],
});

export const contentType = 'image/png';

// Image generation
export default async function Image() {
  // Font
  // const interSemiBold = fetch(
  //   new URL('./Inter-SemiBold.ttf', import.meta.url)
  // ).then((res) => res.arrayBuffer());

  return new ImageResponse(
    (
      // ImageResponse JSX element
      <div
        style={{
          fontSize: 128,
          background: '#fffefa',
          width: '100%',
          height: '100%',
          display: 'flex',
          alignItems: 'center',
          justifyContent: 'center',
          color: '#1d345a',

          position: 'relative',
          overflow: 'hidden',
          fontFamily: lato.style.fontFamily,
          fontWeight: lato.style.fontWeight,
        }}
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="800"
          height="92"
          viewBox="0 0 800 92"
          fill="none"
        >
          <g clip-path="url(#clip0_1580_3919)">
            <path
              d="M13.7457 10.889C13.6559 10.9069 13.3504 10.9788 13.0809 11.0327C12.3442 11.1944 11.3738 12.1288 11.0504 12.9913C10.7988 13.6741 10.7809 16.2796 10.8168 39.2077L10.8707 64.6515L11.4277 65.3522C12.416 66.5741 12.8473 66.7179 15.9199 66.8616C19.1004 67.0233 19.9809 67.1132 22.9098 67.5804C30.816 68.8741 37.6621 72.1085 42.6395 76.8882L43.484 77.6968V51.8397C43.484 37.6085 43.4121 25.6593 43.3223 25.2819C42.891 23.4491 38.6684 18.7772 35.5777 16.7108C30.9957 13.6741 25.1379 11.6976 19.0465 11.1585C16.7285 10.9429 14.0152 10.8171 13.7457 10.889Z"
              fill="#1D345A"
            />
            <path
              d="M75.1992 10.9612C67.6523 11.4105 61.6328 13.2612 56.4219 16.7292C53.3313 18.7597 49.1086 23.4495 48.6773 25.2823C48.5875 25.6597 48.5156 37.6089 48.5156 51.8222V77.6792L49.468 76.7987C54.5891 71.9831 61.2016 68.8745 69.0898 67.5808C72.0188 67.1136 72.8992 67.0237 76.0797 66.862C79.1523 66.7183 79.5836 66.5745 80.5719 65.3526L81.1289 64.6519L81.1828 39.298C81.2188 21.5987 81.1828 13.7284 81.0391 13.2612C80.8234 12.4706 80.1047 11.5901 79.4398 11.2487C78.7211 10.8714 77.7508 10.8175 75.1992 10.9612Z"
              fill="#1D345A"
            />
            <path
              d="M1.88722 22.6228C1.02472 23.0181 0.64738 23.4134 0.270036 24.3118C0.0364424 24.8868 0.000504845 28.0493 0.000504845 51.6603C0.000504845 80.6618 -0.0534014 79.0267 0.952849 80.1048C1.92316 81.165 2.98332 81.2907 5.78644 80.6978C16.5138 78.4517 27.7982 78.1462 36.3872 79.8712C37.5552 80.1048 38.5614 80.2845 38.5974 80.2485C38.7052 80.1228 36.8904 78.6314 35.3989 77.6431C31.6794 75.1634 26.8818 73.4025 21.3294 72.486C20.4669 72.3423 18.0411 72.1267 15.9388 71.9829C13.6028 71.8212 11.8419 71.6235 11.3747 71.4439C8.8591 70.5454 6.88254 68.479 6.10988 65.9634C5.76847 64.8673 5.75051 64.1845 5.75051 43.5564V22.2814H4.18722C3.03722 22.2814 2.40832 22.3892 1.88722 22.6228Z"
              fill="#1D345A"
            />
            <path
              d="M86.242 43.5564C86.242 64.1845 86.2241 64.8673 85.8827 65.9634C85.11 68.479 83.1334 70.5454 80.6178 71.4439C80.1506 71.6235 78.4256 71.8212 76.0897 71.9829C74.0233 72.1087 71.7592 72.3064 71.0584 72.4142C65.4881 73.2767 60.3311 75.1454 56.5936 77.6431C55.1202 78.6314 53.2874 80.1228 53.3952 80.2485C53.4311 80.2845 54.4374 80.1048 55.6053 79.8712C64.1944 78.1462 75.4788 78.4517 86.2061 80.6978C89.0092 81.2907 90.0694 81.165 91.0397 80.1048C92.046 79.0267 91.992 80.6618 91.992 51.6243C91.992 26.0728 91.9741 24.8509 91.6506 24.1681C91.0038 22.7665 90.0155 22.2814 87.7694 22.2814H86.242V43.5564Z"
              fill="#1D345A"
            />
          </g>
          <path
            d="M135.477 66V26H162.43V32.9727H143.934V42.5039H161.043V49.4766H143.934V59.0273H162.508V66H135.477ZM190.853 37.5039C190.696 35.9284 190.026 34.7044 188.841 33.832C187.656 32.9596 186.048 32.5234 184.017 32.5234C182.636 32.5234 181.471 32.7187 180.521 33.1094C179.57 33.487 178.841 34.0143 178.333 34.6914C177.838 35.3685 177.591 36.1367 177.591 36.9961C177.565 37.7122 177.715 38.3372 178.04 38.8711C178.379 39.4049 178.841 39.8672 179.427 40.2578C180.013 40.6354 180.69 40.9674 181.458 41.2539C182.226 41.5273 183.047 41.7617 183.919 41.957L187.513 42.8164C189.257 43.207 190.859 43.7279 192.317 44.3789C193.776 45.0299 195.039 45.8307 196.106 46.7812C197.174 47.7318 198.001 48.8516 198.587 50.1406C199.186 51.4297 199.492 52.9076 199.505 54.5742C199.492 57.0221 198.867 59.1445 197.63 60.9414C196.406 62.7253 194.635 64.112 192.317 65.1016C190.013 66.0781 187.233 66.5664 183.978 66.5664C180.748 66.5664 177.936 66.0716 175.54 65.082C173.157 64.0924 171.295 62.6276 169.954 60.6875C168.626 58.7344 167.929 56.319 167.864 53.4414H176.048C176.139 54.7826 176.523 55.9023 177.2 56.8008C177.89 57.6862 178.808 58.3568 179.954 58.8125C181.113 59.2552 182.422 59.4766 183.88 59.4766C185.312 59.4766 186.556 59.2682 187.61 58.8516C188.678 58.4349 189.505 57.8555 190.091 57.1133C190.677 56.3711 190.97 55.5182 190.97 54.5547C190.97 53.6562 190.703 52.901 190.169 52.2891C189.648 51.6771 188.88 51.1562 187.864 50.7266C186.862 50.2969 185.631 49.9062 184.173 49.5547L179.817 48.4609C176.445 47.6406 173.782 46.3581 171.829 44.6133C169.876 42.8685 168.906 40.5182 168.919 37.5625C168.906 35.1406 169.55 33.0247 170.853 31.2148C172.168 29.4049 173.971 27.9922 176.263 26.9766C178.554 25.9609 181.159 25.4531 184.075 25.4531C187.044 25.4531 189.635 25.9609 191.849 26.9766C194.075 27.9922 195.807 29.4049 197.044 31.2148C198.281 33.0247 198.919 35.1211 198.958 37.5039H190.853ZM205.193 66V26H213.65V59.0273H230.799V66H205.193ZM247.605 32.9727V26H280.457V32.9727H268.211V66H259.852V32.9727H247.605ZM285.867 66V26H312.82V32.9727H294.324V42.5039H311.434V49.4766H294.324V59.0273H312.898V66H285.867ZM326.438 66H317.376L331.185 26H342.083L355.872 66H346.81L336.79 35.1406H336.478L326.438 66ZM325.872 50.2773H347.278V56.8789H325.872V50.2773ZM394.1 40.0039H385.545C385.389 38.8971 385.07 37.9141 384.588 37.0547C384.106 36.1823 383.488 35.4401 382.732 34.8281C381.977 34.2161 381.105 33.7474 380.115 33.4219C379.139 33.0964 378.077 32.9336 376.932 32.9336C374.861 32.9336 373.058 33.4479 371.521 34.4766C369.985 35.4922 368.794 36.9766 367.947 38.9297C367.101 40.8698 366.678 43.2266 366.678 46C366.678 48.8516 367.101 51.2474 367.947 53.1875C368.807 55.1276 370.005 56.5924 371.541 57.582C373.077 58.5716 374.855 59.0664 376.873 59.0664C378.006 59.0664 379.054 58.9167 380.018 58.6172C380.994 58.3177 381.86 57.8815 382.615 57.3086C383.37 56.7227 383.995 56.013 384.49 55.1797C384.998 54.3464 385.35 53.3958 385.545 52.3281L394.1 52.3672C393.878 54.2031 393.325 55.974 392.439 57.6797C391.567 59.3724 390.389 60.8893 388.904 62.2305C387.433 63.5586 385.675 64.6133 383.631 65.3945C381.6 66.1628 379.301 66.5469 376.736 66.5469C373.169 66.5469 369.979 65.7396 367.166 64.125C364.367 62.5104 362.153 60.1732 360.525 57.1133C358.911 54.0534 358.104 50.349 358.104 46C358.104 41.638 358.924 37.9271 360.564 34.8672C362.205 31.8073 364.432 29.4766 367.244 27.875C370.057 26.2604 373.221 25.4531 376.736 25.4531C379.054 25.4531 381.202 25.7786 383.182 26.4297C385.174 27.0807 386.938 28.0312 388.475 29.2812C390.011 30.5182 391.261 32.0352 392.225 33.832C393.201 35.6289 393.826 37.6862 394.1 40.0039ZM400.164 66V26H408.621V42.5039H425.789V26H434.227V66H425.789V49.4766H408.621V66H400.164ZM441.199 66V26H468.152V32.9727H449.656V42.5039H466.766V49.4766H449.656V59.0273H468.23V66H441.199ZM474.876 66V26H490.657C493.678 26 496.256 26.5404 498.392 27.6211C500.54 28.6888 502.174 30.2057 503.294 32.1719C504.427 34.125 504.993 36.4232 504.993 39.0664C504.993 41.7227 504.42 44.0078 503.274 45.9219C502.129 47.8229 500.468 49.2812 498.294 50.2969C496.132 51.3125 493.515 51.8203 490.442 51.8203H479.876V45.0234H489.075C490.69 45.0234 492.031 44.8021 493.099 44.3594C494.166 43.9167 494.961 43.2526 495.481 42.3672C496.015 41.4818 496.282 40.3815 496.282 39.0664C496.282 37.7383 496.015 36.6185 495.481 35.707C494.961 34.7956 494.16 34.1055 493.079 33.6367C492.011 33.1549 490.664 32.9141 489.036 32.9141H483.333V66H474.876ZM496.478 47.7969L506.419 66H497.083L487.356 47.7969H496.478ZM522.176 32.9727V26H555.027V32.9727H542.781V66H534.422V32.9727H522.176ZM595.369 46C595.369 50.362 594.542 54.0729 592.889 57.1328C591.248 60.1927 589.008 62.5299 586.17 64.1445C583.344 65.7461 580.167 66.5469 576.639 66.5469C573.084 66.5469 569.894 65.7396 567.068 64.125C564.243 62.5104 562.01 60.1732 560.369 57.1133C558.729 54.0534 557.908 50.349 557.908 46C557.908 41.638 558.729 37.9271 560.369 34.8672C562.01 31.8073 564.243 29.4766 567.068 27.875C569.894 26.2604 573.084 25.4531 576.639 25.4531C580.167 25.4531 583.344 26.2604 586.17 27.875C589.008 29.4766 591.248 31.8073 592.889 34.8672C594.542 37.9271 595.369 41.638 595.369 46ZM586.795 46C586.795 43.1745 586.372 40.7917 585.525 38.8516C584.692 36.9115 583.514 35.4401 581.99 34.4375C580.467 33.4349 578.683 32.9336 576.639 32.9336C574.594 32.9336 572.811 33.4349 571.287 34.4375C569.764 35.4401 568.579 36.9115 567.732 38.8516C566.899 40.7917 566.482 43.1745 566.482 46C566.482 48.8255 566.899 51.2083 567.732 53.1484C568.579 55.0885 569.764 56.5599 571.287 57.5625C572.811 58.5651 574.594 59.0664 576.639 59.0664C578.683 59.0664 580.467 58.5651 581.99 57.5625C583.514 56.5599 584.692 55.0885 585.525 53.1484C586.372 51.2083 586.795 48.8255 586.795 46ZM638.392 46C638.392 50.362 637.565 54.0729 635.911 57.1328C634.271 60.1927 632.031 62.5299 629.192 64.1445C626.367 65.7461 623.19 66.5469 619.661 66.5469C616.106 66.5469 612.916 65.7396 610.091 64.125C607.265 62.5104 605.032 60.1732 603.392 57.1133C601.751 54.0534 600.931 50.349 600.931 46C600.931 41.638 601.751 37.9271 603.392 34.8672C605.032 31.8073 607.265 29.4766 610.091 27.875C612.916 26.2604 616.106 25.4531 619.661 25.4531C623.19 25.4531 626.367 26.2604 629.192 27.875C632.031 29.4766 634.271 31.8073 635.911 34.8672C637.565 37.9271 638.392 41.638 638.392 46ZM629.817 46C629.817 43.1745 629.394 40.7917 628.548 38.8516C627.715 36.9115 626.536 35.4401 625.013 34.4375C623.489 33.4349 621.705 32.9336 619.661 32.9336C617.617 32.9336 615.833 33.4349 614.31 34.4375C612.786 35.4401 611.601 36.9115 610.755 38.8516C609.922 40.7917 609.505 43.1745 609.505 46C609.505 48.8255 609.922 51.2083 610.755 53.1484C611.601 55.0885 612.786 56.5599 614.31 57.5625C615.833 58.5651 617.617 59.0664 619.661 59.0664C621.705 59.0664 623.489 58.5651 625.013 57.5625C626.536 56.5599 627.715 55.0885 628.548 53.1484C629.394 51.2083 629.817 48.8255 629.817 46ZM644.656 66V26H653.113V59.0273H670.262V66H644.656ZM675.862 66V26H684.319V43.6367H684.847L699.241 26H709.378L694.534 43.9102L709.554 66H699.437L688.479 49.5547L684.319 54.6328V66H675.862ZM722.239 26V66H713.782V26H722.239ZM727.674 32.9727V26H760.525V32.9727H748.279V66H739.92V32.9727H727.674Z"
            fill="#1D345A"
          />
          <defs>
            <clipPath id="clip0_1580_3919">
              <rect width="92" height="92" fill="white" />
            </clipPath>
          </defs>
        </svg>
      </div>
    ),
    // ImageResponse options
    {
      // For convenience, we can re-use the exported opengraph-image
      // size config to also set the ImageResponse's width and height.
      ...size,
      //fonts: [lato],
    }
  );
}
